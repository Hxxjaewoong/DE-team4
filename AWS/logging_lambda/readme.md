# ğŸš€ Crawling Log Lambda (crawling_log_lambda)

ì´ Lambda í•¨ìˆ˜ëŠ” **í¬ë¡¤ë§ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ Slackìœ¼ë¡œ ì•Œë¦¼**í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
Step Functionì—ì„œ ì˜¤ë¥˜ ë°œìƒ ì‹œ í˜¸ì¶œë˜ë©°, **Slack Webhookì„ í†µí•´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì „ì†¡**í•©ë‹ˆë‹¤.

---
## **ğŸ“‚ 1. ì…ë ¥ ë°ì´í„° í˜•ì‹**
LambdaëŠ” Step Functionì—ì„œ JSON í˜•ì‹ì˜ ì˜¤ë¥˜ ë¡œê·¸ë¥¼ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤.

| í•„ë“œëª…      | íƒ€ì…     | ì„¤ëª…                         |
|------------|---------|-----------------------------|
| `timestamp` | string | ì˜¤ë¥˜ ë°œìƒ ì‹œê°„ (`YYYY-MM-DD HH:MM`) |
| `source`   | string  | ì˜¤ë¥˜ ë°œìƒ ìœ„ì¹˜ (ì˜ˆ: `bobae_extract`) |
| `stage`    | string  | ì˜¤ë¥˜ ë‹¨ê³„ (ì˜ˆ: `extract_content`) |
| `keyword`  | string  | ê´€ë ¨ í‚¤ì›Œë“œ (ì˜ˆ: `palisade`) |
| `url`      | string  | ì˜¤ë¥˜ê°€ ë°œìƒí•œ URL |
| `error`    | string  | ì˜¤ë¥˜ ë©”ì‹œì§€ ìƒì„¸ ë‚´ìš© |

### **ğŸ“Œ ì…ë ¥ ë°ì´í„° ì˜ˆì‹œ**
```json
{
  "timestamp": "2025-02-22 14:30",
  "source": "bobae_extract",
  "stage": "extract_content",
  "keyword": "palisade",
  "url": "https://www.bobaedream.co.kr/view/12345",
  "error": "ë³¸ë¬¸ì´ ì¡´ì¬í•˜ì§€ë§Œ íŒŒì‹± ì‹¤íŒ¨"
}
```
---
## **ğŸ“Œ 2. ì•Œë¦¼ ë©”ì‹œì§€**
Slackìœ¼ë¡œ ì „ì†¡ë˜ëŠ” ë©”ì‹œì§€ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ì…ë‹ˆë‹¤.


ğŸš¨ **ì˜¤ë¥˜ ë°œìƒ!**
- **ë°œìƒ ì‹œê°„:** `2025-02-22 14:30`
- **ìœ„ì¹˜:** `bobae_extract`
- **ë‹¨ê³„:** `request_with_retries`
- **í‚¤ì›Œë“œ:** `ì•„ë°˜ë–¼`
- **URL:** [https://www.bobaedream.co.kr/view?no=123456](https://www.bobaedream.co.kr/view?no=123456)
- **ì˜¤ë¥˜ ë©”ì‹œì§€:**  

---
## **ğŸ”§ 3. ì‹¤í–‰ íë¦„**
#### 1ï¸âƒ£ Step Functionì—ì„œ ì˜¤ë¥˜ ë°œìƒ ì‹œ crawling_log_lambda í˜¸ì¶œ
#### 2ï¸âƒ£ Lambdaê°€ ì˜¤ë¥˜ ë°ì´í„°ë¥¼ ë°›ì•„ Slack ë©”ì‹œì§€ ìƒì„±
#### 3ï¸âƒ£ Slack Webhookì„ í†µí•´ ë©”ì‹œì§€ ì „ì†¡
#### 4ï¸âƒ£ ì „ì†¡ ì„±ê³µ/ì‹¤íŒ¨ ì—¬ë¶€ ë°˜í™˜


